Category = "Reference"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Constants"
pi: 3.14159265358979
e: 2.71828182845905
c: 299792458 "speed of light m/s"
h: 6.62607015e-34 "Planck constant"
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Reference"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 0
Status = "Nothing to solve"; StatusIsError = 0
"Functions"
hypot(a;b) = sqrt(a**2 + b**2) "hypotenuse"
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Factorial"

fac(n) = if(n <= 1; n; n*fac(n - 1))

a: 170
x: fac(a)
x-> 7.26e+306

y: fact(a)
y-> 7.26e+306
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Choose"

x: Choose(3; 5; 10; 15; 20; 25)
x-> 15
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 1; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 10: Variable 'c' has no value to output"; StatusIsError = 1
"Screen Size with c-> output"

h/w = 16/9
"d*d = w*w + h*h"
d = hypot(w; h)

Enter d: 1234567890.3456 "diagonal"
h-> 1,076,019,172.14
w-> 605,260,784.33 "width"
c->

"--- Reference Constants and Functions ---"
hypot(a;b) = sqrt(a**2 + b**2) "hypotenuse"
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 1 equation"; StatusIsError = 0
"Braced Equations"

Label: { x + 5 = y }

x: 10
y-> 15

Example { xmax(a;b) = if(a>b; a; b) }
ymax(a;b) = if(a>b; a; b)

z: xmax(4;5)
z-> 5

w: ymax(5;6)
w-> 6
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 1 equation"; StatusIsError = 0
"Braced Equations on multiple lines"

Label: { x + 5
 = y }

x: 10
y-> 15

Example { xmax(a;b)
 = if(a>b; a; b) }

ymax(a;b) = if(a>b; a; b)

z: xmax(4;5)
z-> 5

w: ymax(5;6)
w-> 6
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 10; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Sum and Product functions"

"Basel series: sum(1/n**2; n; 1; 2000)"
basel: sum(1/n**2; n; 1; 2000)
basel-> 1.6444341918

"Factorial via product: prod(k; k; 1; 5)"
f5: prod(k; k; 1; 5)
f5-> 120

"Factorial function using prod"
fac(n) = prod(x; x; 1; n)
z: fac(5)
z-> 120
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"Expression Outputs"

2**32 - 1 = 4294967295

"One-time outputs (like = but with different markers)"
x: 10
y: 5
x + y + pi: 18.14
x * y * pi:: 157.079632679489492
9 + 16= 25

"Recalculating outputs (-> and ->>)"
a: 3
b: 4
a + b + pi-> 10.14
a * b * pi->> 37.699111843077482
a**2 + b**2-> 25
fact(9)-> 362880

"--- Reference Constants and Functions ---"
pi: 3.14159265358979
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"Time Value of Money - Solve for yint"

"Payment calculation"
pmt = -(pv + fv / (1 + mint)**n) * mint / (1 - (1 + mint)**-n)

"Variables"
pmt$: -$607.61 "monthly payment"
pv$: $100,000.00 "loan amount"
fv$: $0.00 "future value (balloon payment)"
yint%: 6.12% "annual interest rate %"
n: 360 "number of payments (30 years)"

"Monthly interest rate from annual"
yint = mint * 12
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"Time Value of Money - Solve for yint with limits"

"Payment calculation"
pmt = -(pv + fv / (1 + mint)**n) * mint / (1 - (1 + mint)**-n)

"Variables"
pmt$: -$607.61 "monthly payment"
pv$: $100,000.00 "loan amount"
fv$: $0.00 "future value (balloon payment)"
yint%[0:0.5]: 6.12% "annual interest rate %"
n: 360 "number of payments (30 years)"

"Monthly interest rate from annual"
yint = mint * 12
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 6 equations"; StatusIsError = 0
"Fifth degree polynomial (test for f(x) = 0 being read as an equation, not fn definition)"

c5: 1
c4: -2
c3: -10
c2: 20
c1: 9
c0: -14

f(x; c5; c4; c3; c2; c1; c0) = c5*x**5 + c4*x**4 + c3*x**3 + c2*x**2 + c1*x + c0

f(x; c5; c4; c3; c2; c1; c0) = 0
x-> 0.7805

0 = f(x0; c5; c4; c3; c2; c1; c0)
x0-> 0.7805

f(x1; c5; c4; c3; c2; c1; c0) = 0
x1-> 0.7805

0 = f(x2; c5; c4; c3; c2; c1; c0)
x2-> 0.7805

"Evaluate polynomial at specific points"
f(1; c5; c4; c3; c2; c1; c0)->> 4
f(-2; c5; c4; c3; c2; c1; c0)->> 64
f(-3.1; c5; c4; c3; c2; c1; c0)->> -22.785709999999991
f(3.5; c5; c4; c3; c2; c1; c0)->> 58.84375
f(1.5; c5; c4; c3; c2; c1; c0)->> 8.21875

"Find other roots using limits"
f(x3; c5; c4; c3; c2; c1; c0) = 0
x3[2:2.5]-> 2.2501

f(x4; c5; c4; c3; c2; c1; c0) = 0
x4[2.5:3]-> 2.8979
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 12: Could not find a root in range [10, 20] for 'x1'"; StatusIsError = 1
"Fifth degree polynomial (error when no root in range)"

c5: 1
c4: -2
c3: -10
c2: 20
c1: 9
c0: -14

f(x; c5; c4; c3; c2; c1; c0) = c5*x**5 + c4*x**4 + c3*x**3 + c2*x**2 + c1*x + c0

0 = f(x1; c5; c4; c3; c2; c1; c0)
x1[10:20]->
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 14: Computed value 0.0612499165601951 is outside limits [0, 0.01] for 'yint'"; StatusIsError = 1
"Time Value of Money - Limits too narrow (error expected)"

"Payment calculation"
pmt = -(pv + fv / (1 + mint)**n) * mint / (1 - (1 + mint)**-n)

"Variables"
pmt$: -$607.61 "monthly payment"
pv$: $100,000.00 "loan amount"
fv$: $0.00 "future value (balloon payment)"
yint%[0:.01]: "annual interest rate % (limits 0-1% too narrow for 6.12%)"
n: 360 "number of payments (30 years)"

"Monthly interest rate from annual"
yint = mint * 12
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"Test text on line before equation output"

Enter x<- 7
Enter y: 3

Result x+y: 10
x+y: 10

Result x+y-> 10
x+y-> 10

Result x+y->> 10
x+y->> 10

Result x+y:: 10
x+y:: 10

h/w = 16/9
d*d = w*w + h*h

Enter d: 6.6 "diagonal"
height h-> 5.75
width w->> 3.235724181574889
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Test : and :: preserve value on expression output"

Enter x: 7
Enter y: 3

Result x+y: 8
x+y: 8

Result x+y-> 10
x+y-> 10

Result x+y->> 10
x+y->> 10

Result x+y:: 8
x+y:: 8
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"A-a Gradient"
    these equations calculate the alveolar oxygen tension (which can range from 100mm on RA to 673mm on 100% oxygen) and the alveolar-arterial oxygen gradient.

--Input--
Enter FiO2<-1
Enter PaCO2<-23
Enter PaO2<-3

PAO2=(FiO2*(760-47))-(PaCO2/0.8)
AaDO2=PAO2-PaO2

--Output--
PAO2-> 684.25 mm Hg
AaDO2-> 681.25 mm Hg
PAO2 + AaDO2-> 1365.5 mm Hg
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 2 equations"; StatusIsError = 0
"BSA/BMI"

--Input--
Enter height (in)    ht<-62.5
Enter weight (lb)    wt<-139.5

BSA=sqrt((ht*wt)/3131)
BMI=(wt*703)/(ht*ht)

--Output--
BSA-> 1.67 m2
BMI-> 25.11 kg/m2
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 2; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 1 equation"; StatusIsError = 0
"Label text with parentheses vs expressions"

"Labels with parentheses - should be variable declarations"
Input (test) a<- 5
Value (m/s) b: 10
Result (%) c-> 15

"Expressions - should be expression outputs"
sqrt(a)-> 2.24
a + b-> 15
(a * b)-> 50

"Mixed - equation then labeled output"
c = a + b
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved 1 equation"; StatusIsError = 0
"Label text torture test"

"Labels with parentheses - should be variable declarations"
Input (test) a<- 5 "here's a"
Value (m/s) b: 10 "and b"
Result (%) c-> 15 that's c

"Expressions - should be expression outputs"
Output a-> 5 that's a
result sqrt(a)-> 2.2361 that's sqrt(a)
result a + b-> 15 that's a+b
result: (a * b)-> 50 should be 50
result: (a/b)->> 0.5 should be 0.5

"Mixed - equation then labeled output"
equation c = a + b test
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 5: Unexpected token after expression: NUMBER '4'"; StatusIsError = 1
"Numeric literal expression outputs"

5%+1-> 1.05
5-> 5
5%4->
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Base literal highlighting test"

"Expected: ff=vardef, ff#16=literal(yellow)"
ff: ff#16
ff-> 255
"Expected: ff=vardef, #16=vardef (format suffix)"
ff#16-> FF#16

"Expected: xx=vardef, ff#16=literal(yellow)"
xx: ff#16
xx-> 255
"Expected: xx=vardef, #16=vardef (format suffix)"
xx#16-> FF#16

"Expected: 7v#32=literal(yellow), starts with digit so always literal"
7v#32-> 255
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 3: Undefined variable: a"; StatusIsError = 1
"Test a*b with no values for a and b"

a*b->
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Multi-line braced equations with builtin override"

{ xmax(a;b) = if(a>b; a; b) }

This is a fn: { min(a;b) =
  if(a<b; a; b)
  * 3 } hi there

xmax(7; min(4;5))->> 12
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"NaN and Infinity tests"

nn: NaN
nn-> NaN
2/0-> Infinity wow so big!
Infinity/Infinity-> NaN wow that's not even a number!
NaN*8-> NaN
2/3-> 0.6667 wow
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Nothing to solve"; StatusIsError = 0
"Base format tests"

ff: ff#16
ff-> 255
ff#16-> FF#16

xx: ff#16
xx-> 255
xx#16-> FF#16

7v#32-> 255
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 3: Variable 'c' has no value to output"; StatusIsError = 1
"Test for value of c when shadow constants is on"

c->
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 15; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 11: Cannot evaluate \"C\" - Undefined variable: C"; StatusIsError = 1
"Constants are case-sensitive (c and h are constants, C and H are not)"

"c and h resolve to constant values"
a: c
a->> 299792458

b: h
b->> 6.62607015e-34

"C and H are wrong case - should error"
d: C
d->>

g: H
g->>

"--- Reference Constants and Functions ---"
c: 299792458 "speed of light m/s"
h: 6.62607015e-34 "Planck constant"
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 15; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 4: Cannot evaluate \"pi\" - Variable 'pi' has no value"; StatusIsError = 1
"Test pi is declared (with shadow constants on) but has no value"

pi:
x: pi
x->>
pi()->> 3.141592653589793

h:
y: h
y->>
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 15; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 0
Status = "Solved with errors: Line 3: Variable \"pi\" conflicts with a constant"; StatusIsError = 1
"Test pi is declared (with shadow constants off) - should error"

pi:
x: pi
x->>
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 4: Cannot evaluate \"y\" - Variable 'y' has no value"; StatusIsError = 1
"Test y has no value"

y:
x: y
x->>
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 0
Status = "Solved with errors: Line 6: Variable \"c\" conflicts with a constant"; StatusIsError = 1
"Money literal expressions"

b: $.01+$.01
b-> 0.02

c: -$.01+-$.01
c-> -0.02

$99.99+$.01-> 100

f#16+f#32-> 30
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 0; ShadowConstants = 1
Status = "Solved with errors: Line 13: Variable 'f' has no value to output"; StatusIsError = 1
"Base literal tests"

"Variable with base format suffix"
x: 12
x#16-> C#16

"Literal expressions (e#16 = 14, f#16 = 15)"
e#16+e#16-> 28
e#16+3-> 17
f#16+3-> 18

"Variable declaration (f has no value, nothing to solve)"
f#16->

"Literal on LHS with leading 0"
0ff#16-> 255

"ff#16 is literal in equations, variable in declarations"
ff: 7

0ff#16 = y
y->> 255
y#16-> FF#16

ff#16 = z
z->> 255
z#16-> FF#16

w = ff#16
w->> 255

ff#16-> 7#16
~~~~~~~~~~~~~~~~~~~~~~~~~~~