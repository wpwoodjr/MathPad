Category = "Unfiled"; Secret = 0
Places = 4; StripZeros = 1
Format = "float"; GroupDigits = 0; DegreesMode = 1; ShadowConstants = 1
"Course Heading (copy) (copy)"

mod360CHOB = mod(currentHeadingOffBow; 360)
"sin(0) and sin(180) are 0, creating issues in formula... just bump it a bit"
normalizedCHOB = if(mod360CHOB == 0 || mod360CHOB == 180; mod360CHOB + 0.01; mod360CHOB)

sin(180-normalizedCHOB)/boatSpeed = sin(correction)/max(currentSpeed; 1e-4)
sin(180-normalizedCHOB)/boatSpeed = sin(normalizedCHOB - correction)/speedMadeGood

speedMadeGood->>
correction[-90:90]->>                    "degrees"
course = desiredHeading + correction
sin(180-normalizedCHOB)->>
sin(normalizedCHOB - correction)->>
course->>
sin(180-normalizedCHOB)/boatSpeed->>
sin(correction)/max(currentSpeed; 1e-4)->>
sin(normalizedCHOB - correction)/speedMadeGood->>


--Variables--
desiredHeading: 12         "degrees"

boatSpeed:                  "knots"

currentSpeed: 3            "knots"

currentHeadingOffBow: 1    "degrees"

course: 12                 "degrees"

speedMadeGood->            "knots"
